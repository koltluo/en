<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>8.1 协议内容 | Linyi Senkuo Electromechanical Co. Ltd</title>
<meta name=keywords content><meta name=description content="变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。
该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。
8.1.1 应用方式
变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。
8.1.2 总线结构
(1)硬件接口 自带通讯接口A+、B-接线端子。
(2)拓扑结构
单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。
(3)通讯传输方式
异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。



变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。
主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。
8.1.3 通讯资料结构
Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作:



理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。



若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。



8.1.4 数据帧字段说明



项目
说明




帧头START
大于3.5个字符传输时间的空闲


从机地址ADR
通讯地址范围:1~247;0=广播地址


命令码CMD
03:读从机参数;06:写从机参数


功能码地址H
变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后


功能码地址L
同上


功能码个数H
本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。


功能码个数L
同上


数据H
应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。


数据L
同上


CRCCHK高位
检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。


CRCCHK低位
同上


END
3.5个字符时间



8.1.5 CMD检验方式
校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。 
CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。
CRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21


unsigned int CRC16_CHK(unsigned char *data, unsigned char length)
{
  int j = 0;
  unsigned int crc Oxffff reg:
    while(length--)
    {
       crc reg *data++:
       for(j=0:j<8:j++)
          {
           if(reg crc 0x01)
             {
            reg_crc (reg_crc > 1) 0xa001:
             }
       else
             {
             reg_crc = reg_crc >> 1;
             }
          }
    }
    return reg_crc;
}


8.1.6功能码参数地址标示规则：
读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：
以功能码组号和标号为参数地址表示规则：
高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组）
低位字节: 00~FF
例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH 





  













  
        ℹ️
      

  
    
      注意:
PF组：既不可读取参数,也不可更改参数;
U组：只可读取,不可更改参数.
有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。
    
  





功能码组号
通讯访问地址
通讯修改RAM中功能码地址




P0~PE 组
0xF000~0xFEFF
0x0000~0x0EFF


A0~AC 组
0xA000~0xACFF
0x4000 ~0x4CFF


U0组
0x7000 ~0x70FF
只读，不可写








  













  
        ℹ️
      

  
    
      注意：
1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。
2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。
    
  


写入RAM相应功能码地址如下：
高位字节：00~0F（P组） 40~4F（A组） 
低位字节：00~FF
例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;
功能码A0-05不存储到EEPROM中，地址表示为4005H ;





  













  
        ℹ️
      

  
    
      注意： 
该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能.
    
  


8.1.7 停机/运行参数部分：



参数地址
参数描述
参数地址
参数描述




1000H
通信设定值（十进制）-10000-10000
1010H
PID设置


1001H
运行频率
1011H
PID反馈


1002H
母线电压
1012H
PLC步骤


1003H
输出电压
1013H
输入脉冲频率, 单位 0.01kHz


1004H
输出电流
1014H
反馈速度，单位0.1Hz


1005H
输出功率
1015H
剩余运行时间


1006H
输出转矩
1016H
All校正前电压


1007H
运行速度
1017H
AI2校正前电压


1008H
DI输入标志
1018H
AI3校正前电压


1009H
DO输出标志
1019H
线速度


100AH
All电压
101AH
当前上电时间


100BH
AI2电压
101BH
当前运行时间


100CH
AI3电压
101CH
输入脉冲频率，单位1Hz


100DH
计数值输入
101DH
通讯设定值


100EH
长度值输入
101EH
实际反馈速度


100FH
负载速度
101FH
主频率X显示




1020H
辅频率Y显示








  













  
        ℹ️
      

  
    
      注意：   
1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。 
2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机)
    
  


控制命令输入到变频器：（只写）



命令字地址
命令功能




2000H
0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位



读取变频器状态：（只读）



状态字地址
状态字功能




3000H
0001:正转运行0002:反转运行0003:停机



参数锁定密码检验：（如果返回为888H，即表示密码校验通过）



密码地址
输入密码的内容




1F00H
*****



8.1.8 输出控制命令



命令字地址
命令内容
输出控制命令说明




2001H
Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2
数字输出端子控制：（只写）


2002H
0~7FFF表示0%~100%
模拟输出AO1控制：（只写）


2003H
0~7FFF表示0%~100%
模拟输出AO2控制：（只写）


2004H
0~7FFF表示0%~100%
脉冲（PULSE）输出控制：（只写）



8.1.9 变频器故障描述



变频器故障地址
变频器故障信息




8000H
0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度



8.1.10 PD组通讯参数说明



功能码
名称
设定范围
出厂值




Pd-00
波特率
个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS
600








  













  
        ℹ️
      

  
    
      此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。
    
  





功能码
名称
设定范围
出厂值




Pd-01
数据格式
0：无校验：数据格式<8，N，2> 1：偶检验：数据格式<8,E,1> 2：奇校验：数据格式<8,0,1>
0








  













  
        ℹ️
      

  
    
      上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。
    
  





功能码
名称
设定范围
出厂值




Pd-02
本机地址
1~247，0为广播地址
1








  













  
        ℹ️
      

  
    
      当本机地址设定为0时，即为广播地址，实现上位机广播功能。
本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。
    
  





功能码
名称
设定范围
出厂值




Pd-03
应答延时
0~20ms
2ms








  













  
        ℹ️
      

  
    
      应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。
    
  





功能码
名称
设定范围
出厂值




Pd-04
通讯超时时间
0.0s（无效）0.1~60.0s
2ms








  













  
        ℹ️
      

  
    
      注意：
当该功能码设置为0.0s时，通讯超时时间参数无效。
当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。
    
  





功能码
名称
设定范围
出厂值




Pd-05
0：非标准的Modbus协议； 1：标准的Modbus协议
0









  













  
        ℹ️
      

  
    
      注意：
Pd-05=1：选择标准的Modbus协议。
Pd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议通讯资料结构部分。
    
  





功能码
名称
设定范围
出厂值




Pd-06
通讯读取电流分辨率
0：0.01A; 1：0.1A
0








  













  
        ℹ️
      

  
    
      注意： 用来确定通讯读取输出电流时，电流值的输出单位。
    
  


探索以下文档以便了解更多内容："><meta name=author content="Gaylen"><link rel=canonical href=http://localhost:1313/docs/modbus-communication-protocol/agreement-content.zh-cn/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/img/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/img/android-chrome-144x144.png><link rel=mask-icon href=http://localhost:1313/img/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/docs/modbus-communication-protocol/agreement-content.zh-cn/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="8.1 协议内容"><meta property="og:description" content="变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。
该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。
8.1.1 应用方式
变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。
8.1.2 总线结构
(1)硬件接口 自带通讯接口A+、B-接线端子。
(2)拓扑结构
单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。
(3)通讯传输方式
异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。



变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。
主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。
8.1.3 通讯资料结构
Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作:



理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。



若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。



8.1.4 数据帧字段说明



项目
说明




帧头START
大于3.5个字符传输时间的空闲


从机地址ADR
通讯地址范围:1~247;0=广播地址


命令码CMD
03:读从机参数;06:写从机参数


功能码地址H
变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后


功能码地址L
同上


功能码个数H
本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。


功能码个数L
同上


数据H
应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。


数据L
同上


CRCCHK高位
检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。


CRCCHK低位
同上


END
3.5个字符时间



8.1.5 CMD检验方式
校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。 
CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。
CRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21


unsigned int CRC16_CHK(unsigned char *data, unsigned char length)
{
  int j = 0;
  unsigned int crc Oxffff reg:
    while(length--)
    {
       crc reg *data++:
       for(j=0:j<8:j++)
          {
           if(reg crc 0x01)
             {
            reg_crc (reg_crc > 1) 0xa001:
             }
       else
             {
             reg_crc = reg_crc >> 1;
             }
          }
    }
    return reg_crc;
}


8.1.6功能码参数地址标示规则：
读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：
以功能码组号和标号为参数地址表示规则：
高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组）
低位字节: 00~FF
例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH 





  













  
        ℹ️
      

  
    
      注意:
PF组：既不可读取参数,也不可更改参数;
U组：只可读取,不可更改参数.
有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。
    
  





功能码组号
通讯访问地址
通讯修改RAM中功能码地址




P0~PE 组
0xF000~0xFEFF
0x0000~0x0EFF


A0~AC 组
0xA000~0xACFF
0x4000 ~0x4CFF


U0组
0x7000 ~0x70FF
只读，不可写








  













  
        ℹ️
      

  
    
      注意：
1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。
2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。
    
  


写入RAM相应功能码地址如下：
高位字节：00~0F（P组） 40~4F（A组） 
低位字节：00~FF
例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;
功能码A0-05不存储到EEPROM中，地址表示为4005H ;





  













  
        ℹ️
      

  
    
      注意： 
该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能.
    
  


8.1.7 停机/运行参数部分：



参数地址
参数描述
参数地址
参数描述




1000H
通信设定值（十进制）-10000-10000
1010H
PID设置


1001H
运行频率
1011H
PID反馈


1002H
母线电压
1012H
PLC步骤


1003H
输出电压
1013H
输入脉冲频率, 单位 0.01kHz


1004H
输出电流
1014H
反馈速度，单位0.1Hz


1005H
输出功率
1015H
剩余运行时间


1006H
输出转矩
1016H
All校正前电压


1007H
运行速度
1017H
AI2校正前电压


1008H
DI输入标志
1018H
AI3校正前电压


1009H
DO输出标志
1019H
线速度


100AH
All电压
101AH
当前上电时间


100BH
AI2电压
101BH
当前运行时间


100CH
AI3电压
101CH
输入脉冲频率，单位1Hz


100DH
计数值输入
101DH
通讯设定值


100EH
长度值输入
101EH
实际反馈速度


100FH
负载速度
101FH
主频率X显示




1020H
辅频率Y显示








  













  
        ℹ️
      

  
    
      注意：   
1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。 
2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机)
    
  


控制命令输入到变频器：（只写）



命令字地址
命令功能




2000H
0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位



读取变频器状态：（只读）



状态字地址
状态字功能




3000H
0001:正转运行0002:反转运行0003:停机



参数锁定密码检验：（如果返回为888H，即表示密码校验通过）



密码地址
输入密码的内容




1F00H
*****



8.1.8 输出控制命令



命令字地址
命令内容
输出控制命令说明




2001H
Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2
数字输出端子控制：（只写）


2002H
0~7FFF表示0%~100%
模拟输出AO1控制：（只写）


2003H
0~7FFF表示0%~100%
模拟输出AO2控制：（只写）


2004H
0~7FFF表示0%~100%
脉冲（PULSE）输出控制：（只写）



8.1.9 变频器故障描述



变频器故障地址
变频器故障信息




8000H
0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度



8.1.10 PD组通讯参数说明



功能码
名称
设定范围
出厂值




Pd-00
波特率
个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS
600








  













  
        ℹ️
      

  
    
      此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。
    
  





功能码
名称
设定范围
出厂值




Pd-01
数据格式
0：无校验：数据格式<8，N，2> 1：偶检验：数据格式<8,E,1> 2：奇校验：数据格式<8,0,1>
0








  













  
        ℹ️
      

  
    
      上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。
    
  





功能码
名称
设定范围
出厂值




Pd-02
本机地址
1~247，0为广播地址
1








  













  
        ℹ️
      

  
    
      当本机地址设定为0时，即为广播地址，实现上位机广播功能。
本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。
    
  





功能码
名称
设定范围
出厂值




Pd-03
应答延时
0~20ms
2ms








  













  
        ℹ️
      

  
    
      应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。
    
  





功能码
名称
设定范围
出厂值




Pd-04
通讯超时时间
0.0s（无效）0.1~60.0s
2ms








  













  
        ℹ️
      

  
    
      注意：
当该功能码设置为0.0s时，通讯超时时间参数无效。
当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。
    
  





功能码
名称
设定范围
出厂值




Pd-05
0：非标准的Modbus协议； 1：标准的Modbus协议
0









  













  
        ℹ️
      

  
    
      注意：
Pd-05=1：选择标准的Modbus协议。
Pd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议通讯资料结构部分。
    
  





功能码
名称
设定范围
出厂值




Pd-06
通讯读取电流分辨率
0：0.01A; 1：0.1A
0








  













  
        ℹ️
      

  
    
      注意： 用来确定通讯读取输出电流时，电流值的输出单位。
    
  


探索以下文档以便了解更多内容："><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/docs/modbus-communication-protocol/agreement-content.zh-cn/"><meta property="og:image" content="http://localhost:1313/img/mstile-150x150.png"><meta property="article:section" content="docs"><meta property="og:site_name" content="Linyi Senkuo Electromechanical Co. Ltd"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/img/mstile-150x150.png"><meta name=twitter:title content="8.1 协议内容"><meta name=twitter:description content="变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。
该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。
8.1.1 应用方式
变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。
8.1.2 总线结构
(1)硬件接口 自带通讯接口A+、B-接线端子。
(2)拓扑结构
单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。
(3)通讯传输方式
异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。



变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。
主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。
8.1.3 通讯资料结构
Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作:



理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。



若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。



8.1.4 数据帧字段说明



项目
说明




帧头START
大于3.5个字符传输时间的空闲


从机地址ADR
通讯地址范围:1~247;0=广播地址


命令码CMD
03:读从机参数;06:写从机参数


功能码地址H
变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后


功能码地址L
同上


功能码个数H
本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。


功能码个数L
同上


数据H
应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。


数据L
同上


CRCCHK高位
检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。


CRCCHK低位
同上


END
3.5个字符时间



8.1.5 CMD检验方式
校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。 
CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。
CRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21


unsigned int CRC16_CHK(unsigned char *data, unsigned char length)
{
  int j = 0;
  unsigned int crc Oxffff reg:
    while(length--)
    {
       crc reg *data++:
       for(j=0:j<8:j++)
          {
           if(reg crc 0x01)
             {
            reg_crc (reg_crc > 1) 0xa001:
             }
       else
             {
             reg_crc = reg_crc >> 1;
             }
          }
    }
    return reg_crc;
}


8.1.6功能码参数地址标示规则：
读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：
以功能码组号和标号为参数地址表示规则：
高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组）
低位字节: 00~FF
例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH 





  













  
        ℹ️
      

  
    
      注意:
PF组：既不可读取参数,也不可更改参数;
U组：只可读取,不可更改参数.
有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。
    
  





功能码组号
通讯访问地址
通讯修改RAM中功能码地址




P0~PE 组
0xF000~0xFEFF
0x0000~0x0EFF


A0~AC 组
0xA000~0xACFF
0x4000 ~0x4CFF


U0组
0x7000 ~0x70FF
只读，不可写








  













  
        ℹ️
      

  
    
      注意：
1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。
2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。
    
  


写入RAM相应功能码地址如下：
高位字节：00~0F（P组） 40~4F（A组） 
低位字节：00~FF
例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;
功能码A0-05不存储到EEPROM中，地址表示为4005H ;





  













  
        ℹ️
      

  
    
      注意： 
该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能.
    
  


8.1.7 停机/运行参数部分：



参数地址
参数描述
参数地址
参数描述




1000H
通信设定值（十进制）-10000-10000
1010H
PID设置


1001H
运行频率
1011H
PID反馈


1002H
母线电压
1012H
PLC步骤


1003H
输出电压
1013H
输入脉冲频率, 单位 0.01kHz


1004H
输出电流
1014H
反馈速度，单位0.1Hz


1005H
输出功率
1015H
剩余运行时间


1006H
输出转矩
1016H
All校正前电压


1007H
运行速度
1017H
AI2校正前电压


1008H
DI输入标志
1018H
AI3校正前电压


1009H
DO输出标志
1019H
线速度


100AH
All电压
101AH
当前上电时间


100BH
AI2电压
101BH
当前运行时间


100CH
AI3电压
101CH
输入脉冲频率，单位1Hz


100DH
计数值输入
101DH
通讯设定值


100EH
长度值输入
101EH
实际反馈速度


100FH
负载速度
101FH
主频率X显示




1020H
辅频率Y显示








  













  
        ℹ️
      

  
    
      注意：   
1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。 
2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机)
    
  


控制命令输入到变频器：（只写）



命令字地址
命令功能




2000H
0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位



读取变频器状态：（只读）



状态字地址
状态字功能




3000H
0001:正转运行0002:反转运行0003:停机



参数锁定密码检验：（如果返回为888H，即表示密码校验通过）



密码地址
输入密码的内容




1F00H
*****



8.1.8 输出控制命令



命令字地址
命令内容
输出控制命令说明




2001H
Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2
数字输出端子控制：（只写）


2002H
0~7FFF表示0%~100%
模拟输出AO1控制：（只写）


2003H
0~7FFF表示0%~100%
模拟输出AO2控制：（只写）


2004H
0~7FFF表示0%~100%
脉冲（PULSE）输出控制：（只写）



8.1.9 变频器故障描述



变频器故障地址
变频器故障信息




8000H
0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度



8.1.10 PD组通讯参数说明



功能码
名称
设定范围
出厂值




Pd-00
波特率
个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS
600








  













  
        ℹ️
      

  
    
      此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。
    
  





功能码
名称
设定范围
出厂值




Pd-01
数据格式
0：无校验：数据格式<8，N，2> 1：偶检验：数据格式<8,E,1> 2：奇校验：数据格式<8,0,1>
0








  













  
        ℹ️
      

  
    
      上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。
    
  





功能码
名称
设定范围
出厂值




Pd-02
本机地址
1~247，0为广播地址
1








  













  
        ℹ️
      

  
    
      当本机地址设定为0时，即为广播地址，实现上位机广播功能。
本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。
    
  





功能码
名称
设定范围
出厂值




Pd-03
应答延时
0~20ms
2ms








  













  
        ℹ️
      

  
    
      应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。
    
  





功能码
名称
设定范围
出厂值




Pd-04
通讯超时时间
0.0s（无效）0.1~60.0s
2ms








  













  
        ℹ️
      

  
    
      注意：
当该功能码设置为0.0s时，通讯超时时间参数无效。
当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。
    
  





功能码
名称
设定范围
出厂值




Pd-05
0：非标准的Modbus协议； 1：标准的Modbus协议
0









  













  
        ℹ️
      

  
    
      注意：
Pd-05=1：选择标准的Modbus协议。
Pd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议通讯资料结构部分。
    
  





功能码
名称
设定范围
出厂值




Pd-06
通讯读取电流分辨率
0：0.01A; 1：0.1A
0








  













  
        ℹ️
      

  
    
      注意： 用来确定通讯读取输出电流时，电流值的输出单位。
    
  


探索以下文档以便了解更多内容："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"What is the working principle of the Variable Frequency Drive (VFD) in the electrical industry?","item":"http://localhost:1313/docs/"},{"@type":"ListItem","position":2,"name":"Chapter 8 ModBus Communication Protocol","item":"http://localhost:1313/docs/modbus-communication-protocol/"},{"@type":"ListItem","position":3,"name":"8.1 协议内容","item":"http://localhost:1313/docs/modbus-communication-protocol/agreement-content.zh-cn/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"8.1 协议内容","name":"8.1 协议内容","description":"变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。\n该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。\n8.1.1 应用方式 变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。\n8.1.2 总线结构 (1)硬件接口 自带通讯接口A+、B-接线端子。\n(2)拓扑结构\n单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。\n(3)通讯传输方式\n异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。 变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。\n主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。\n8.1.3 通讯资料结构 Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作: 理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。 若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。 8.1.4 数据帧字段说明 项目 说明 帧头START 大于3.5个字符传输时间的空闲 从机地址ADR 通讯地址范围:1~247;0=广播地址 命令码CMD 03:读从机参数;06:写从机参数 功能码地址H 变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后 功能码地址L 同上 功能码个数H 本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。 功能码个数L 同上 数据H 应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。 数据L 同上 CRCCHK高位 检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。 CRCCHK低位 同上 END 3.5个字符时间 8.1.5 CMD检验方式 校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。 CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。\nCRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 unsigned int CRC16_CHK(unsigned char *data, unsigned char length) { int j = 0; unsigned int crc Oxffff reg: while(length--) { crc reg *data++: for(j=0:j\u0026lt;8:j++) { if(reg crc 0x01) { reg_crc (reg_crc \u0026gt; 1) 0xa001: } else { reg_crc = reg_crc \u0026gt;\u0026gt; 1; } } } return reg_crc; } 8.1.6功能码参数地址标示规则： 读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：\n以功能码组号和标号为参数地址表示规则：\n高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组） 低位字节: 00~FF\n例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH ℹ️ 注意:\nPF组：既不可读取参数,也不可更改参数;\nU组：只可读取,不可更改参数.\n有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。 功能码组号 通讯访问地址 通讯修改RAM中功能码地址 P0~PE 组 0xF000~0xFEFF 0x0000~0x0EFF A0~AC 组 0xA000~0xACFF 0x4000 ~0x4CFF U0组 0x7000 ~0x70FF 只读，不可写 ℹ️ 注意：\n1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。\n2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。 写入RAM相应功能码地址如下：\n高位字节：00~0F（P组） 40~4F（A组） 低位字节：00~FF\n例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;\n功能码A0-05不存储到EEPROM中，地址表示为4005H ; ℹ️ 注意： 该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能. 8.1.7 停机/运行参数部分： 参数地址 参数描述 参数地址 参数描述 1000H 通信设定值（十进制）-10000-10000 1010H PID设置 1001H 运行频率 1011H PID反馈 1002H 母线电压 1012H PLC步骤 1003H 输出电压 1013H 输入脉冲频率, 单位 0.01kHz 1004H 输出电流 1014H 反馈速度，单位0.1Hz 1005H 输出功率 1015H 剩余运行时间 1006H 输出转矩 1016H All校正前电压 1007H 运行速度 1017H AI2校正前电压 1008H DI输入标志 1018H AI3校正前电压 1009H DO输出标志 1019H 线速度 100AH All电压 101AH 当前上电时间 100BH AI2电压 101BH 当前运行时间 100CH AI3电压 101CH 输入脉冲频率，单位1Hz 100DH 计数值输入 101DH 通讯设定值 100EH 长度值输入 101EH 实际反馈速度 100FH 负载速度 101FH 主频率X显示 1020H 辅频率Y显示 ℹ️ 注意： 1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。 2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机) 控制命令输入到变频器：（只写）\n命令字地址 命令功能 2000H 0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位 读取变频器状态：（只读）\n状态字地址 状态字功能 3000H 0001:正转运行0002:反转运行0003:停机 参数锁定密码检验：（如果返回为888H，即表示密码校验通过）\n密码地址 输入密码的内容 1F00H ***** 8.1.8 输出控制命令 命令字地址 命令内容 输出控制命令说明 2001H Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2 数字输出端子控制：（只写） 2002H 0~7FFF表示0%~100% 模拟输出AO1控制：（只写） 2003H 0~7FFF表示0%~100% 模拟输出AO2控制：（只写） 2004H 0~7FFF表示0%~100% 脉冲（PULSE）输出控制：（只写） 8.1.9 变频器故障描述 变频器故障地址 变频器故障信息 8000H 0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度 8.1.10 PD组通讯参数说明 功能码 名称 设定范围 出厂值 Pd-00 波特率 个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS 600 ℹ️ 此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。 功能码 名称 设定范围 出厂值 Pd-01 数据格式 0：无校验：数据格式\u0026lt;8，N，2\u0026gt; 1：偶检验：数据格式\u0026lt;8,E,1\u0026gt; 2：奇校验：数据格式\u0026lt;8,0,1\u0026gt; 0 ℹ️ 上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。 功能码 名称 设定范围 出厂值 Pd-02 本机地址 1~247，0为广播地址 1 ℹ️ 当本机地址设定为0时，即为广播地址，实现上位机广播功能。\n本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。 功能码 名称 设定范围 出厂值 Pd-03 应答延时 0~20ms 2ms ℹ️ 应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。 功能码 名称 设定范围 出厂值 Pd-04 通讯超时时间 0.0s（无效）0.1~60.0s 2ms ℹ️ 注意：\n当该功能码设置为0.0s时，通讯超时时间参数无效。\n当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。 功能码 名称 设定范围 出厂值 Pd-05 0：非标准的Modbus协议； 1：标准的Modbus协议 0 ℹ️ 注意：\nPd-05=1：选择标准的Modbus协议。\nPd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议通讯资料结构部分。 功能码 名称 设定范围 出厂值 Pd-06 通讯读取电流分辨率 0：0.01A; 1：0.1A 0 ℹ️ 注意： 用来确定通讯读取输出电流时，电流值的输出单位。 探索以下文档以便了解更多内容：\n","keywords":[],"articleBody":"变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。\n该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。\n8.1.1 应用方式 变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。\n8.1.2 总线结构 (1)硬件接口 自带通讯接口A+、B-接线端子。\n(2)拓扑结构\n单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。\n(3)通讯传输方式\n异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。 变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。\n主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。\n8.1.3 通讯资料结构 Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作: 理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。 若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。 8.1.4 数据帧字段说明 项目 说明 帧头START 大于3.5个字符传输时间的空闲 从机地址ADR 通讯地址范围:1~247;0=广播地址 命令码CMD 03:读从机参数;06:写从机参数 功能码地址H 变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后 功能码地址L 同上 功能码个数H 本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。 功能码个数L 同上 数据H 应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。 数据L 同上 CRCCHK高位 检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。 CRCCHK低位 同上 END 3.5个字符时间 8.1.5 CMD检验方式 校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。 CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。\nCRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 unsigned int CRC16_CHK(unsigned char *data, unsigned char length) { int j = 0; unsigned int crc Oxffff reg: while(length--) { crc reg *data++: for(j=0:j\u003c8:j++) { if(reg crc 0x01) { reg_crc (reg_crc \u003e 1) 0xa001: } else { reg_crc = reg_crc \u003e\u003e 1; } } } return reg_crc; } 8.1.6功能码参数地址标示规则： 读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：\n以功能码组号和标号为参数地址表示规则：\n高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组） 低位字节: 00~FF\n例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH ℹ️ 注意:\nPF组：既不可读取参数,也不可更改参数;\nU组：只可读取,不可更改参数.\n有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。 功能码组号 通讯访问地址 通讯修改RAM中功能码地址 P0~PE 组 0xF000~0xFEFF 0x0000~0x0EFF A0~AC 组 0xA000~0xACFF 0x4000 ~0x4CFF U0组 0x7000 ~0x70FF 只读，不可写 ℹ️ 注意：\n1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。\n2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。 写入RAM相应功能码地址如下：\n高位字节：00~0F（P组） 40~4F（A组） 低位字节：00~FF\n例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;\n功能码A0-05不存储到EEPROM中，地址表示为4005H ; ℹ️ 注意： 该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能. 8.1.7 停机/运行参数部分： 参数地址 参数描述 参数地址 参数描述 1000H 通信设定值（十进制）-10000-10000 1010H PID设置 1001H 运行频率 1011H PID反馈 1002H 母线电压 1012H PLC步骤 1003H 输出电压 1013H 输入脉冲频率, 单位 0.01kHz 1004H 输出电流 1014H 反馈速度，单位0.1Hz 1005H 输出功率 1015H 剩余运行时间 1006H 输出转矩 1016H All校正前电压 1007H 运行速度 1017H AI2校正前电压 1008H DI输入标志 1018H AI3校正前电压 1009H DO输出标志 1019H 线速度 100AH All电压 101AH 当前上电时间 100BH AI2电压 101BH 当前运行时间 100CH AI3电压 101CH 输入脉冲频率，单位1Hz 100DH 计数值输入 101DH 通讯设定值 100EH 长度值输入 101EH 实际反馈速度 100FH 负载速度 101FH 主频率X显示 1020H 辅频率Y显示 ℹ️ 注意： 1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。 2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机) 控制命令输入到变频器：（只写）\n命令字地址 命令功能 2000H 0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位 读取变频器状态：（只读）\n状态字地址 状态字功能 3000H 0001:正转运行0002:反转运行0003:停机 参数锁定密码检验：（如果返回为888H，即表示密码校验通过）\n密码地址 输入密码的内容 1F00H ***** 8.1.8 输出控制命令 命令字地址 命令内容 输出控制命令说明 2001H Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2 数字输出端子控制：（只写） 2002H 0~7FFF表示0%~100% 模拟输出AO1控制：（只写） 2003H 0~7FFF表示0%~100% 模拟输出AO2控制：（只写） 2004H 0~7FFF表示0%~100% 脉冲（PULSE）输出控制：（只写） 8.1.9 变频器故障描述 变频器故障地址 变频器故障信息 8000H 0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度 8.1.10 PD组通讯参数说明 功能码 名称 设定范围 出厂值 Pd-00 波特率 个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS 600 ℹ️ 此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。 功能码 名称 设定范围 出厂值 Pd-01 数据格式 0：无校验：数据格式\u003c8，N，2\u003e 1：偶检验：数据格式\u003c8,E,1\u003e 2：奇校验：数据格式\u003c8,0,1\u003e 0 ℹ️ 上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。 功能码 名称 设定范围 出厂值 Pd-02 本机地址 1~247，0为广播地址 1 ℹ️ 当本机地址设定为0时，即为广播地址，实现上位机广播功能。\n本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。 功能码 名称 设定范围 出厂值 Pd-03 应答延时 0~20ms 2ms ℹ️ 应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。 功能码 名称 设定范围 出厂值 Pd-04 通讯超时时间 0.0s（无效）0.1~60.0s 2ms ℹ️ 注意：\n当该功能码设置为0.0s时，通讯超时时间参数无效。\n当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。 功能码 名称 设定范围 出厂值 Pd-05 0：非标准的Modbus协议； 1：标准的Modbus协议 0 ℹ️ 注意：\nPd-05=1：选择标准的Modbus协议。\nPd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议通讯资料结构部分。 功能码 名称 设定范围 出厂值 Pd-06 通讯读取电流分辨率 0：0.01A; 1：0.1A 0 ℹ️ 注意： 用来确定通讯读取输出电流时，电流值的输出单位。 探索以下文档以便了解更多内容：\n5.1 基本功能参数简表 立即购买 变频器常见问题解答 ","wordCount":"439","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Gaylen"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/docs/modbus-communication-protocol/agreement-content.zh-cn/"},"publisher":{"@type":"Organization","name":"Linyi Senkuo Electromechanical Co. Ltd","logo":{"@type":"ImageObject","url":"http://localhost:1313/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="SenKuoGroup.com (Alt + H)"><img src=http://localhost:1313/img/android-chrome-144x144.png alt aria-label=logo height=35>SenKuoGroup.com</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=http://localhost:1313/zh/ title=简体中文 aria-label=简体中文>Zh</a></li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/archives title=Archive><span>Archive</span></a></li><li><a href=http://localhost:1313/product title=Product><span>Product</span></a></li><li><a href=http://localhost:1313/blog title=Blog><span>Blog</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://nav8.top/ title=Trade-Nav><span>Trade-Nav</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/docs/>What is the working principle of the Variable Frequency Drive (VFD) in the electrical industry?</a>&nbsp;»&nbsp;<a href=http://localhost:1313/docs/modbus-communication-protocol/>Chapter 8 ModBus Communication Protocol</a></div><h1 class="post-title entry-hint-parent">8.1 协议内容</h1><div class=post-meta>3 min&nbsp;·&nbsp;439 words&nbsp;·&nbsp;Gaylen</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><div class=details>8.1 协议内容</div></summary><div class=inner><ul><li><a href=#811-%e5%ba%94%e7%94%a8%e6%96%b9%e5%bc%8f aria-label="8.1.1 应用方式">8.1.1 应用方式</a></li><li><a href=#812-%e6%80%bb%e7%ba%bf%e7%bb%93%e6%9e%84 aria-label="8.1.2 总线结构">8.1.2 总线结构</a></li><li><a href=#813-%e9%80%9a%e8%ae%af%e8%b5%84%e6%96%99%e7%bb%93%e6%9e%84 aria-label="8.1.3 通讯资料结构">8.1.3 通讯资料结构</a></li><li><a href=#814-%e6%95%b0%e6%8d%ae%e5%b8%a7%e5%ad%97%e6%ae%b5%e8%af%b4%e6%98%8e aria-label="8.1.4 数据帧字段说明">8.1.4 数据帧字段说明</a></li><li><a href=#815-cmd%e6%a3%80%e9%aa%8c%e6%96%b9%e5%bc%8f aria-label="8.1.5 CMD检验方式">8.1.5 CMD检验方式</a></li><li><a href=#816%e5%8a%9f%e8%83%bd%e7%a0%81%e5%8f%82%e6%95%b0%e5%9c%b0%e5%9d%80%e6%a0%87%e7%a4%ba%e8%a7%84%e5%88%99 aria-label=8.1.6功能码参数地址标示规则：>8.1.6功能码参数地址标示规则：</a></li><li><a href=#817-%e5%81%9c%e6%9c%ba%e8%bf%90%e8%a1%8c%e5%8f%82%e6%95%b0%e9%83%a8%e5%88%86 aria-label="8.1.7 停机/运行参数部分：">8.1.7 停机/运行参数部分：</a></li><li><a href=#818-%e8%be%93%e5%87%ba%e6%8e%a7%e5%88%b6%e5%91%bd%e4%bb%a4 aria-label="8.1.8 输出控制命令">8.1.8 输出控制命令</a></li><li><a href=#819-%e5%8f%98%e9%a2%91%e5%99%a8%e6%95%85%e9%9a%9c%e6%8f%8f%e8%bf%b0 aria-label="8.1.9 变频器故障描述">8.1.9 变频器故障描述</a></li><li><a href=#8110-pd%e7%bb%84%e9%80%9a%e8%ae%af%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e aria-label="8.1.10 PD组通讯参数说明">8.1.10 PD组通讯参数说明</a></li></ul></div></details></div><div class=post-content><p>变频器提供RS485通信接口,并支持Modbus-RTU通讯协议。用户可通过计算机或PLC实现集中控制, 通过该通讯协议设定变频器运行命令,修改或读取功能码参数,读取变频器的工作状态及故障信息等。</p><p>该串行通信协议定义了串行通信中传输的信息内容及使用格式。其中包括:主机轮询(或广播)格式;主机的编码方法,内容包括:要求动作的功能码,传输数据和错误校验等。从机的响应也是采用相同的结构,内 容包括:动作确认,返回数据和错误校验等。如果从机在接收信息时发生错误,或不能完成主机要求的动作, 它将组织一个故障信息作为响应反馈给主机。</p><h3 id=811-应用方式>8.1.1 应用方式<a hidden class=anchor aria-hidden=true href=#811-应用方式>#</a></h3><p>变频器接入具备RS485总线的“单主多从”PC/PLC控制网络,作为通讯从机。</p><h3 id=812-总线结构>8.1.2 总线结构<a hidden class=anchor aria-hidden=true href=#812-总线结构>#</a></h3><p>(1)硬件接口 自带通讯接口A+、B-接线端子。<br>(2)拓扑结构<br>单主机多从机系统。网络中每一个通讯设备都有一个唯一的从站地址,其中有一个设备作为通讯主机(PC上位机、PLC、HMI等),主机发动通讯,对从机进行参数读或写操作,其它设备在为通讯从机,响应主机对 本机的询问或通讯操作。在同一时刻只能有一个设备发送数据,而其他设备处于接收状态。从机地址的设定范围为1~247,0为广播通信地址。网络中的从机地址必须是唯一的。<br>(3)通讯传输方式<br>异步串行,半双工传输方式。数据在串行异步通信过程中,是以报文的形式,一次发送一帧数据, MODBUS-RTU协议中约定,当通讯数据线上无数据的空闲时间大于3.5Byte的传输时间,表示新的一个通讯帧 的起始。
<img src=/images/modbus1.jpg alt=modbus通讯传输方式 title=modbus通讯传输方式>
变频器内置的通信协议是Modbus-RTU从机通信协议,可响应主机的“查询/命令”,或根据主机的“查 询/命令”做出相应的动作,并通讯数据应答。<br>主机可以是指个人计算机(PC),工业控制设备或可编程逻辑控制器(PLC)等,主机既能对某个从机 单独进行通信,也能对所有下位从机发布广播信息。对于主机的单独访问“查询/命令”,被访问从机要返 回一个应答帧频;对于主机发出的广播信息,从机无需反馈响应给主机。</p><h3 id=813-通讯资料结构>8.1.3 通讯资料结构<a hidden class=anchor aria-hidden=true href=#813-通讯资料结构>#</a></h3><p>Modbus协议通讯数据格式如下,变频器只支持Word型参数的读或写。对应的通讯读操作命令为0x03; 写操作命令为0x06,不支持字节或位的读写操作:
<img src=/images/modbus2.jpg alt=Modbus协议通讯数据格式 title=Modbus协议通讯数据格式>
理论上,上位机可以一次读取连续的几个功能码(即其中n最大可达12个),但要注意不能跨过本功能码组 最后一个功能码,否则会答复出错。
<img src=/images/modbus3.jpg alt=Modbus协议通讯数据格式 title=Modbus协议通讯数据格式>
若从机检测到通讯帧错误,或其他原因导致的读写不成功,会答复错误帧。
<img src=/images/modbus4.jpg alt=Modbus协议通讯数据格式 title=Modbus协议通讯数据格式></p><h3 id=814-数据帧字段说明>8.1.4 数据帧字段说明<a hidden class=anchor aria-hidden=true href=#814-数据帧字段说明>#</a></h3><table><thead><tr><th style=text-align:center>项目</th><th style=text-align:left>说明</th></tr></thead><tbody><tr><td style=text-align:center>帧头START</td><td style=text-align:left>大于3.5个字符传输时间的空闲</td></tr><tr><td style=text-align:center>从机地址ADR</td><td style=text-align:left>通讯地址范围:1~247;0=广播地址</td></tr><tr><td style=text-align:center>命令码CMD</td><td style=text-align:left>03:读从机参数;06:写从机参数</td></tr><tr><td style=text-align:center>功能码地址H</td><td style=text-align:left>变频器内部的参数地址,16进制表示;分为功能码型和非功能码型(如 运行状态参数、运行命令等)参数等,详见地址定义。传送时,高字节在前,低字节在后</td></tr><tr><td style=text-align:center>功能码地址L</td><td style=text-align:left>同上</td></tr><tr><td style=text-align:center>功能码个数H</td><td style=text-align:left>本帧读取的功能码个数,若为1表示读取1个功能码。传送时,高字节在前,低字节在后。 本协议一次只能改写1个功能码,没有该字段。</td></tr><tr><td style=text-align:center>功能码个数L</td><td style=text-align:left>同上</td></tr><tr><td style=text-align:center>数据H</td><td style=text-align:left>应答的数据,或特写入的数据,传送时,高字节在前,低字节在后。</td></tr><tr><td style=text-align:center>数据L</td><td style=text-align:left>同上</td></tr><tr><td style=text-align:center>CRCCHK高位</td><td style=text-align:left>检测值:CRC16校验值。传送时,高字节在前,低字节在后。 计算方法详见本节CRC校验的说明。</td></tr><tr><td style=text-align:center>CRCCHK低位</td><td style=text-align:left>同上</td></tr><tr><td style=text-align:center>END</td><td style=text-align:left>3.5个字符时间</td></tr></tbody></table><h3 id=815-cmd检验方式>8.1.5 CMD检验方式<a hidden class=anchor aria-hidden=true href=#815-cmd检验方式>#</a></h3><p>校验方式CRC校验方式:CRC(Cyclical Redundancy Check)使用RTU帧格式,消息包括了基于CRC 方法的错误检测域。CRC域检测了整个消息的内容。CRC域是两个字节,包含16位的二进制值。它由传输设备 计算后加入到消息中。接收设备重新计算收到消息CRC,并与接收到的CRC域中的值比较,如果两个CRC值不 相等,则说明传输有错误。<br>CRC是先存入0xFFFF,然后调用一个过程将消息中连续的8位字节与当前寄存器中的值进行处理。仅每 个字符中的8Bit数据对CRC有效,起始位和停止位以及奇偶校验位均无效。<br>CRC产生过程中,每个8位字符都单独和寄存器内容相异或(XOR),结果向最低有效位方向移动,最高有 效位以0填充。LSB被提取出来检测,如果LSB为1,寄存器单独和预置的值相异或,如果LSB为0,则不进行。 整个过程要重复8次。在最后一位(第8位)完成后,下一个8位字节又单独和寄存器的当前值相异或。最终寄存器中的值,是消息中所有的字节都执行之后的CRC值。 CRC添加到消息中时,低字节先加入,然后高字节。CRC简单函数如下:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>unsigned int CRC16_CHK(unsigned char *data, unsigned char length)
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>  int j = 0;
</span></span><span class=line><span class=cl>  unsigned int crc Oxffff reg:
</span></span><span class=line><span class=cl>    while(length--)
</span></span><span class=line><span class=cl>    {
</span></span><span class=line><span class=cl>       crc reg *data++:
</span></span><span class=line><span class=cl>       for(j=0:j&lt;8:j++)
</span></span><span class=line><span class=cl>          {
</span></span><span class=line><span class=cl>           if(reg crc 0x01)
</span></span><span class=line><span class=cl>             {
</span></span><span class=line><span class=cl>            reg_crc (reg_crc &gt; 1) 0xa001:
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>       else
</span></span><span class=line><span class=cl>             {
</span></span><span class=line><span class=cl>             reg_crc = reg_crc &gt;&gt; 1;
</span></span><span class=line><span class=cl>             }
</span></span><span class=line><span class=cl>          }
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>    return reg_crc;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h3 id=816功能码参数地址标示规则>8.1.6功能码参数地址标示规则：<a hidden class=anchor aria-hidden=true href=#816功能码参数地址标示规则>#</a></h3><p>读写功能码参数（有些功能码是不能更改的，只供厂家使用或监视使用）：<br>以功能码组号和标号为参数地址表示规则：<br>高位字节： PO~PF（P组） AO-AF（A组） 70~7F（U组）
低位字节: 00~FF<br>例如：若要范围功能码P3-12 ,则功能码的访问地址表示为F30CH<br><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意:<br>PF组：既不可读取参数,也不可更改参数;<br>U组：只可读取,不可更改参数.<br>有些参数在变频器处于运行状态时不可更改；有些参数不论变频器处于何种状态，均不可更改；更改功能码参数，还要注意参数的范围、单位及相关说明。</div></div></div></p><table><thead><tr><th style=text-align:center>功能码组号</th><th style=text-align:center>通讯访问地址</th><th style=text-align:center>通讯修改RAM中功能码地址</th></tr></thead><tbody><tr><td style=text-align:center>P0~PE 组</td><td style=text-align:center>0xF000~0xFEFF</td><td style=text-align:center>0x0000~0x0EFF</td></tr><tr><td style=text-align:center>A0~AC 组</td><td style=text-align:center>0xA000~0xACFF</td><td style=text-align:center>0x4000 ~0x4CFF</td></tr><tr><td style=text-align:center>U0组</td><td style=text-align:center>0x7000 ~0x70FF</td><td style=text-align:center>只读，不可写</td></tr></tbody></table><p><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意：<br>1、由于EEPROM频繁被存储,会减少EEPROM的使用寿命,所以,有些功能码在通讯的模式下,无须存储,只要更改RAM中的值就可以了。<br>2、如果为P组参数，要实现该功能，只要把该功能码地址的高位F变成0就可以实现.如果为A组参数，要实现该功能,只要把该功能码地址的高位A变成4就可以实现。</div></div></div><br><strong>写入RAM相应功能码地址如下：</strong><br>高位字节：00~0F（P组） 40~4F（A组）<br>低位字节：00~FF<br>例如：功能码 P3-12不存储到 EEPROM 中，地址表示为 030cH ;<br>功能码A0-05不存储到EEPROM中，地址表示为4005H ;<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意：<br>该地址表示只能做写RAM,不能做读的动作,读时,为无效地址.对于所有参数,也可以使用命令码07H来实现该功能.</div></div></div></p><h3 id=817-停机运行参数部分>8.1.7 停机/运行参数部分：<a hidden class=anchor aria-hidden=true href=#817-停机运行参数部分>#</a></h3><table><thead><tr><th style=text-align:center>参数地址</th><th style=text-align:center>参数描述</th><th style=text-align:center>参数地址</th><th style=text-align:center>参数描述</th></tr></thead><tbody><tr><td style=text-align:center>1000H</td><td style=text-align:center>通信设定值（十进制）-10000-10000</td><td style=text-align:center>1010H</td><td style=text-align:center>PID设置</td></tr><tr><td style=text-align:center>1001H</td><td style=text-align:center>运行频率</td><td style=text-align:center>1011H</td><td style=text-align:center>PID反馈</td></tr><tr><td style=text-align:center>1002H</td><td style=text-align:center>母线电压</td><td style=text-align:center>1012H</td><td style=text-align:center>PLC步骤</td></tr><tr><td style=text-align:center>1003H</td><td style=text-align:center>输出电压</td><td style=text-align:center>1013H</td><td style=text-align:center>输入脉冲频率, 单位 0.01kHz</td></tr><tr><td style=text-align:center>1004H</td><td style=text-align:center>输出电流</td><td style=text-align:center>1014H</td><td style=text-align:center>反馈速度，单位0.1Hz</td></tr><tr><td style=text-align:center>1005H</td><td style=text-align:center>输出功率</td><td style=text-align:center>1015H</td><td style=text-align:center>剩余运行时间</td></tr><tr><td style=text-align:center>1006H</td><td style=text-align:center>输出转矩</td><td style=text-align:center>1016H</td><td style=text-align:center>All校正前电压</td></tr><tr><td style=text-align:center>1007H</td><td style=text-align:center>运行速度</td><td style=text-align:center>1017H</td><td style=text-align:center>AI2校正前电压</td></tr><tr><td style=text-align:center>1008H</td><td style=text-align:center>DI输入标志</td><td style=text-align:center>1018H</td><td style=text-align:center>AI3校正前电压</td></tr><tr><td style=text-align:center>1009H</td><td style=text-align:center>DO输出标志</td><td style=text-align:center>1019H</td><td style=text-align:center>线速度</td></tr><tr><td style=text-align:center>100AH</td><td style=text-align:center>All电压</td><td style=text-align:center>101AH</td><td style=text-align:center>当前上电时间</td></tr><tr><td style=text-align:center>100BH</td><td style=text-align:center>AI2电压</td><td style=text-align:center>101BH</td><td style=text-align:center>当前运行时间</td></tr><tr><td style=text-align:center>100CH</td><td style=text-align:center>AI3电压</td><td style=text-align:center>101CH</td><td style=text-align:center>输入脉冲频率，单位1Hz</td></tr><tr><td style=text-align:center>100DH</td><td style=text-align:center>计数值输入</td><td style=text-align:center>101DH</td><td style=text-align:center>通讯设定值</td></tr><tr><td style=text-align:center>100EH</td><td style=text-align:center>长度值输入</td><td style=text-align:center>101EH</td><td style=text-align:center>实际反馈速度</td></tr><tr><td style=text-align:center>100FH</td><td style=text-align:center>负载速度</td><td style=text-align:center>101FH</td><td style=text-align:center>主频率X显示</td></tr><tr><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center>1020H</td><td style=text-align:center>辅频率Y显示</td></tr></tbody></table><p><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意：<br>1、通信设定值是相对值的百分数,10000对应100.00%, -10000对应-100.00%。<br>2、对频率量纲的数据，该百分比是相对最大频率（P0-10）的百分数;对转矩量纲的糠，该百分比是P2-10、A2-48、A3-48、A4-48 （转矩上限数字设定，分别对应第一、二三、四电机)</div></div></div><br>控制命令输入到变频器：（只写）</p><table><thead><tr><th style=text-align:center>命令字地址</th><th style=text-align:center>命令功能</th></tr></thead><tbody><tr><td style=text-align:center>2000H</td><td style=text-align:center>0001:正转运行0002:反转运行0003:正转点动0004:反转点动0005:自由停机0006:减速停机0007:故障复位</td></tr></tbody></table><p>读取变频器状态：（只读）</p><table><thead><tr><th style=text-align:center>状态字地址</th><th style=text-align:center>状态字功能</th></tr></thead><tbody><tr><td style=text-align:center>3000H</td><td style=text-align:center>0001:正转运行0002:反转运行0003:停机</td></tr></tbody></table><p>参数锁定密码检验：（如果返回为888H，即表示密码校验通过）</p><table><thead><tr><th style=text-align:center>密码地址</th><th style=text-align:center>输入密码的内容</th></tr></thead><tbody><tr><td style=text-align:center>1F00H</td><td style=text-align:center>*****</td></tr></tbody></table><h3 id=818-输出控制命令>8.1.8 输出控制命令<a hidden class=anchor aria-hidden=true href=#818-输出控制命令>#</a></h3><table><thead><tr><th style=text-align:center>命令字地址</th><th style=text-align:left>命令内容</th><th style=text-align:left>输出控制命令说明</th></tr></thead><tbody><tr><td style=text-align:center>2001H</td><td style=text-align:left>Bit0: DO1输出控制Bit1: DO2输出控制Bit2: RELAY1输出控制Bit3: RELAY2输出控制Bit4: FMR输出控制Bit5: VDO1Bit6: VDO2</td><td style=text-align:left>数字输出端子控制：（只写）</td></tr><tr><td style=text-align:center>2002H</td><td style=text-align:left>0~7FFF表示0%~100%</td><td style=text-align:left>模拟输出AO1控制：（只写）</td></tr><tr><td style=text-align:center>2003H</td><td style=text-align:left>0~7FFF表示0%~100%</td><td style=text-align:left>模拟输出AO2控制：（只写）</td></tr><tr><td style=text-align:center>2004H</td><td style=text-align:left>0~7FFF表示0%~100%</td><td style=text-align:left>脉冲（PULSE）输出控制：（只写）</td></tr></tbody></table><h3 id=819-变频器故障描述>8.1.9 变频器故障描述<a hidden class=anchor aria-hidden=true href=#819-变频器故障描述>#</a></h3><table><thead><tr><th style=text-align:center>变频器故障地址</th><th style=text-align:left>变频器故障信息</th></tr></thead><tbody><tr><td style=text-align:center>8000H</td><td style=text-align:left>0000：无故障 0001：保留0002：加速过电流 0003：减速过电流 0004：恒速过电流 0005：加速过电压0006：减速过电压 0007：恒速过电压0008：缓冲电阻过载故障0009：欠压故障 000A：变频器过载 000B：电机过载 000C：输入缺相 000D：输出缺相 000E：模块过热 000F：外部故障 0010：通讯异常 0011：接触器异常0012：电流检测故障 0013：电机调谐故障0014：编码器/PG卡故障0015：参数读写异常 0016：变频器硬件故障 0017：电机对地短路故障0018：保留 0019：保留001A：运行时间到达001B：用户自定义故障1 001C：用户自定义故障2001D：上电时间到达 001E：掉载001F：运行时PID反馈丢失 0028：快速限流超时故障 0029：运行时切换电机故障002A：速度偏差过大 002B：电机超速度 002D：电机过温005A：编码器线数设定错误005B：未接编码器 005C：初始位置错误 005E：速度</td></tr></tbody></table><h3 id=8110-pd组通讯参数说明>8.1.10 PD组通讯参数说明<a hidden class=anchor aria-hidden=true href=#8110-pd组通讯参数说明>#</a></h3><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-00</td><td style=text-align:left>波特率</td><td style=text-align:left>个位：MODUBS波特率0：300BPS 1：600BPS 2：1200BPS 3：2400BPS 4：4800BPS5：9600BPS6：19200BPS 7：38400BPS 8：57600BPS 9：115200BPS</td><td style=text-align:center>600</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">此参数用来设定上位机与变频器之间的数据传输速率。注意，上位机与变频器设定的波特率必须一致，否则，通讯无法进行。波特率越大，通讯速度越快。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-01</td><td style=text-align:left>数据格式</td><td style=text-align:left>0：无校验：数据格式&lt;8，N，2> 1：偶检验：数据格式&lt;8,E,1> 2：奇校验：数据格式&lt;8,0,1></td><td style=text-align:center>0</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">上位机与变频器设定的数据格式必须一致，否则，通讯无法进行。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-02</td><td style=text-align:left>本机地址</td><td style=text-align:left>1~247，0为广播地址</td><td style=text-align:center>1</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">当本机地址设定为0时，即为广播地址，实现上位机广播功能。<br>本机地址具有唯一性（除广播地址外），这是实现上位机与变频器点对点通讯的基础。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-03</td><td style=text-align:left>应答延时</td><td style=text-align:left>0~20ms</td><td style=text-align:center>2ms</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">应答延时：是指变频器数据接受结束到向上位机发送数据的中间间隔时间。如果应答延时小于系统处理时间，则应答延时以系统处理时间为准，如应答延时长于系统处理时间，则系统处理完数据后，要延迟等待，直到应答延迟时间到，才往上位机发送数据。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-04</td><td style=text-align:left>通讯超时时间</td><td style=text-align:left>0.0s（无效）0.1~60.0s</td><td style=text-align:center>2ms</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意：<br>当该功能码设置为0.0s时，通讯超时时间参数无效。<br>当该功能码设置成有效值时，如果一次通讯与下一次通讯的间隔时间超出通讯超时时间，系统将报通讯故障错误（Err16）。通常情况下，都将其设置成无效。如果在连续通讯的系统中，设置次参数，可以监视通讯状况。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-05</td><td style=text-align:left>0：非标准的Modbus协议； 1：标准的Modbus协议</td><td style=text-align:left>0</td><td></td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意：<br>Pd-05=1：选择标准的Modbus协议。<br>Pd-05=0：读命令时，从机返回字节数比标准的Modbus协议多一个字节，具体参见本协议<a href=/zh-cn/docs/modbus-communication-protocol/#813-%e9%80%9a%e8%ae%af%e8%b5%84%e6%96%99%e7%bb%93%e6%9e%84>通讯资料结构</a>部分。</div></div></div><table><thead><tr><th style=text-align:center>功能码</th><th style=text-align:left>名称</th><th style=text-align:left>设定范围</th><th style=text-align:center>出厂值</th></tr></thead><tbody><tr><td style=text-align:center>Pd-06</td><td style=text-align:left>通讯读取电流分辨率</td><td style=text-align:left>0：0.01A; 1：0.1A</td><td style=text-align:center>0</td></tr></tbody></table><div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200"><div class="ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2"><div class="select-none text-xl" style="font-family:apple color emoji,segoe ui emoji,segoe ui symbol">ℹ️</div></div><div class="w-full min-w-0 leading-7"><div class="mt-6 leading-7 first:mt-0">注意： 用来确定通讯读取输出电流时，电流值的输出单位。</div></div></div><p>探索以下文档以便了解更多内容：</p><div class="hextra-cards mt-4 gap-4 grid not-prose" style=--rows:3><a class="hextra-card group flex flex-col justify-start overflow-hidden rounded-lg border border-gray-200 text-current no-underline dark:shadow-none hover:shadow-gray-100 dark:hover:shadow-none shadow-gray-100 active:shadow-sm active:shadow-gray-200 transition-all duration-200 hover:border-gray-300 bg-transparent shadow-sm dark:border-neutral-800 hover:bg-slate-50 hover:shadow-md dark:hover:border-neutral-700 dark:hover:bg-neutral-900" href=/docs/product-information/technical-specifications-table/><span class="flex font-semibold items-start gap-2 p-4 text-gray-700 hover:text-gray-900 dark:text-neutral-200 dark:hover:text-neutral-50">5.1 基本功能参数简表</span></a>
<a class="hextra-card group flex flex-col justify-start overflow-hidden rounded-lg border border-gray-200 text-current no-underline dark:shadow-none hover:shadow-gray-100 dark:hover:shadow-none shadow-gray-100 active:shadow-sm active:shadow-gray-200 transition-all duration-200 hover:border-gray-300 bg-transparent shadow-sm dark:border-neutral-800 hover:bg-slate-50 hover:shadow-md dark:hover:border-neutral-700 dark:hover:bg-neutral-900" href="https://item.taobao.com/item.htm?ft=t&amp;id=771441899583" target=_blank rel=noreferrer><span class="flex font-semibold items-start gap-2 p-4 text-gray-700 hover:text-gray-900 dark:text-neutral-200 dark:hover:text-neutral-50">立即购买</span></a>
<a class="hextra-card group flex flex-col justify-start overflow-hidden rounded-lg border border-gray-200 text-current no-underline dark:shadow-none hover:shadow-gray-100 dark:hover:shadow-none shadow-gray-100 active:shadow-sm active:shadow-gray-200 transition-all duration-200 hover:border-gray-300 bg-transparent shadow-sm dark:border-neutral-800 hover:bg-slate-50 hover:shadow-md dark:hover:border-neutral-700 dark:hover:bg-neutral-900" href=/blog/faq/><span class="flex font-semibold items-start gap-2 p-4 text-gray-700 hover:text-gray-900 dark:text-neutral-200 dark:hover:text-neutral-50">变频器常见问题解答</span></a></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=http://localhost:1313/docs/modbus-communication-protocol/agreement-content/><span class=title>« Prev</span><br><span>8.1 Agreement content</span>
</a><a class=next href=http://localhost:1313/docs/table-of-contents/><span class=title>Next »</span><br><span>Inverter User Manual Table of Contents</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on x" href="https://x.com/intent/tweet/?text=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9&amp;url=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f&amp;title=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9&amp;summary=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9&amp;source=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f&title=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on whatsapp" href="https://api.whatsapp.com/send?text=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9%20-%20http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on telegram" href="https://telegram.me/share/url?text=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9&amp;url=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 8.1 协议内容 on ycombinator" href="https://news.ycombinator.com/submitlink?t=8.1%20%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9&u=http%3a%2f%2flocalhost%3a1313%2fdocs%2fmodbus-communication-protocol%2fagreement-content.zh-cn%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Linyi Senkuo Electromechanical Co. Ltd</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>